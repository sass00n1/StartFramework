<mxfile host="app.diagrams.net" modified="2022-06-18T07:54:36.813Z" agent="5.0 (Windows)" etag="FhWvCpmYjIuxq8T1Dl1E" version="20.0.1" type="github" pages="10">
  <diagram id="Q4NOb3F9aCevTINg1pPU" name="事件">
    <mxGraphModel dx="1507" dy="1213" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-9" value="" style="rounded=0;whiteSpace=wrap;html=1;glass=0;shadow=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="1120" y="360" width="640" height="360" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-1" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="1181" y="600" width="60" height="120" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-6" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;rotation=90;fillColor=none;strokeColor=#000000;sketch=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1450" y="630" width="60" height="120" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-12" value="玩家" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="1181" y="570" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-13" value="&lt;font&gt;敌人&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1490" y="650" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-15" value="" style="shape=xor;whiteSpace=wrap;html=1;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="1260" y="620" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-17" value="" style="shape=xor;whiteSpace=wrap;html=1;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="1300" y="620" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-18" value="" style="shape=xor;whiteSpace=wrap;html=1;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="1340" y="620" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-19" value="" style="shape=xor;whiteSpace=wrap;html=1;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="1380" y="620" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-20" value="" style="shape=xor;whiteSpace=wrap;html=1;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="1420" y="620" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-21" value="" style="shape=xor;whiteSpace=wrap;html=1;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="1460" y="620" width="20" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-24" value="&lt;font style=&quot;font-size: 20px&quot;&gt;分数：1&lt;/font&gt;" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1131" y="367.5" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-25" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=1;fontSize=20;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1580" y="650" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-27" value="&lt;font style=&quot;font-size: 13px&quot;&gt;成就：第一次击倒敌人&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontSize=20;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1620" y="650" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-28" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.sun;rounded=0;shadow=0;glass=0;sketch=1;fontSize=11;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1580" y="665" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-30" value="&lt;div style=&quot;font-size: 19px&quot;&gt;&lt;font style=&quot;font-size: 19px&quot;&gt;事件触发：敌人死亡&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 19px&quot;&gt;&lt;font style=&quot;font-size: 19px&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 19px&quot;&gt;&lt;font style=&quot;font-size: 19px&quot;&gt;并向事件类中添加其它观察者感兴趣的数据，&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 19px&quot;&gt;&lt;font style=&quot;font-size: 19px&quot;&gt;供他们使用&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.oval_callout;rounded=0;shadow=0;glass=0;sketch=1;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#80FF00;fillStyle=solid;" parent="1" vertex="1">
          <mxGeometry x="1170" y="1300" width="460" height="250" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-32" value="&lt;font style=&quot;font-size: 20px&quot;&gt;金币：1&lt;/font&gt;" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1640" y="367.5" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-33" value="$" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1535" y="615" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-34" value="$" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1555" y="577.5" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-35" value="$" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1580" y="545" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-36" value="$" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1595" y="510" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-37" value="$" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1620" y="480" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-38" value="$" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1652.5" y="450" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-39" value="$" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1677.5" y="422.5" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-40" value="$" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1702.5" y="400" width="25" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-42" value="" style="endArrow=classic;html=1;sketch=1;fontSize=13;fontColor=#000000;curved=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="617.5" as="sourcePoint" />
            <mxPoint x="1670" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-46" value="金币补间动画" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=none;rotation=-55;" parent="1" vertex="1">
          <mxGeometry x="1490" y="475" width="165" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-49" value="" style="endArrow=classic;html=1;sketch=1;fontSize=14;fontColor=#000000;strokeColor=#FF0000;curved=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.112;entryY=0.2;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="fUZE_gQF6ypLjB1HRcJI-24" target="fUZE_gQF6ypLjB1HRcJI-30" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="990" y="780" as="sourcePoint" />
            <mxPoint x="1100" y="900" as="targetPoint" />
            <Array as="points">
              <mxPoint x="740" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-51" value="" style="endArrow=classic;html=1;sketch=1;fontSize=14;fontColor=#000000;strokeColor=#FF0000;curved=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.868;entryY=0.228;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="fUZE_gQF6ypLjB1HRcJI-32" target="fUZE_gQF6ypLjB1HRcJI-30" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1890" y="590" as="sourcePoint" />
            <mxPoint x="1940" y="540" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2380" y="680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-55" value="" style="shape=flexArrow;endArrow=classic;html=1;sketch=1;fontSize=10;fontColor=#000000;strokeColor=#80FF00;curved=1;fillColor=#80FF00;fillStyle=solid;entryX=0.297;entryY=0.085;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=0;shadow=0;" parent="1" source="fUZE_gQF6ypLjB1HRcJI-13" target="fUZE_gQF6ypLjB1HRcJI-30" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1478.75" y="640" as="sourcePoint" />
            <mxPoint x="1478.75" y="800" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1260" y="960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-56" value="&lt;font style=&quot;font-size: 25px&quot; face=&quot;Comic Sans MS&quot; color=&quot;#FF0000&quot;&gt;分数UI对需要显示的分数数据感兴趣，所以将分数更新到事件类中&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=14;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="810" y="570" width="160" height="225" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-57" value="&lt;font style=&quot;font-size: 25px&quot; color=&quot;#FF0000&quot;&gt;金币UI需要执行一段，金币从敌人位置到UI位置飘荡的补间动画，金币UI对敌人的位置感兴趣。所以将敌人位置更新到事件类中&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fillStyle=solid;fontSize=14;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="2030" y="525" width="160" height="225" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-58" value="成就的MonoBehavior层" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=1;fillStyle=solid;fontFamily=Comic Sans MS;fontSize=25;fontColor=#000000;strokeColor=default;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1360" y="1200" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-59" value="" style="endArrow=classic;html=1;sketch=1;fillStyle=solid;fontFamily=Comic Sans MS;fontSize=25;fontColor=#000000;strokeColor=#FF0000;fillColor=#80FF00;entryX=0.704;entryY=0.09;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="fUZE_gQF6ypLjB1HRcJI-58" target="fUZE_gQF6ypLjB1HRcJI-30" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1520" y="1010" as="sourcePoint" />
            <mxPoint x="1570" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-60" value="成就的System层(有状态)" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=1;fillStyle=solid;fontFamily=Comic Sans MS;fontSize=25;fontColor=#000000;strokeColor=default;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1390" y="1080" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-61" value="" style="endArrow=classic;html=1;sketch=1;fillStyle=solid;fontFamily=Comic Sans MS;fontSize=25;fontColor=#000000;strokeColor=#FF0000;fillColor=#80FF00;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="fUZE_gQF6ypLjB1HRcJI-58" target="fUZE_gQF6ypLjB1HRcJI-60" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1500" y="1020" as="sourcePoint" />
            <mxPoint x="1550" y="970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-62" value="" style="shape=flexArrow;endArrow=classic;html=1;sketch=1;fillStyle=solid;fontFamily=Comic Sans MS;fontSize=25;fontColor=#000000;strokeColor=none;fillColor=#80FF00;entryX=0.5;entryY=0.84;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="fUZE_gQF6ypLjB1HRcJI-60" target="fUZE_gQF6ypLjB1HRcJI-63" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1450" y="920" as="sourcePoint" />
            <mxPoint x="1580" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-63" value="&lt;div style=&quot;font-size: 18px&quot;&gt;&lt;font style=&quot;font-size: 18px&quot;&gt;事件触发：成就解锁&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 18px&quot;&gt;&lt;font style=&quot;font-size: 18px&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 18px&quot;&gt;&lt;font style=&quot;font-size: 18px&quot;&gt;并向事件类中添加其它观察者感兴趣的数据，&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 18px&quot;&gt;&lt;font style=&quot;font-size: 18px&quot;&gt;供他们使用&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.oval_callout;rounded=0;shadow=0;glass=0;sketch=1;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#80FF00;fillStyle=solid;" parent="1" vertex="1">
          <mxGeometry x="1377.5" y="810" width="430" height="225" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-64" value="" style="endArrow=classic;html=1;sketch=1;fillStyle=solid;fontFamily=Comic Sans MS;fontSize=25;fontColor=#000000;strokeColor=#FF0000;fillColor=#80FF00;entryX=0.5;entryY=0.045;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="fUZE_gQF6ypLjB1HRcJI-27" target="fUZE_gQF6ypLjB1HRcJI-63" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1590" y="830" as="sourcePoint" />
            <mxPoint x="1610" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-65" value="序列化的Utility层(无状态)" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=1;fillStyle=solid;fontFamily=Comic Sans MS;fontSize=25;fontColor=#000000;strokeColor=default;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1677.5" y="735" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fUZE_gQF6ypLjB1HRcJI-67" value="" style="endArrow=classic;html=1;sketch=1;fillStyle=solid;fontFamily=Comic Sans MS;fontSize=25;fontColor=#000000;strokeColor=#FF0000;fillColor=#80FF00;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.774;entryY=0.145;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="fUZE_gQF6ypLjB1HRcJI-65" target="fUZE_gQF6ypLjB1HRcJI-63" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="910" as="sourcePoint" />
            <mxPoint x="1730" y="900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WeDmNtwqmGQFg53wEWPY-1" value="&lt;div&gt;&lt;font style=&quot;font-size: 30px&quot;&gt;事件也是控制反转的一种方式：框架层（事件发出的层）调用分数UI，金币UI，成就系统等它们提供的算法。而不是他们调用框架层的代码。&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 30px&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 30px&quot;&gt;好处是：事件层拥有了框架特征。它取得了程序的控制权，这时，双方的关系是松耦合的，框架无需知道各个用户，用户也无需关心程序的控制流，即使框架的算法控制流改变，也不会影响任何用户。&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 30px&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 30px&quot;&gt;如果不是控制反转的：分数UI，金币UI，成就，每帧检测XX对象，一旦符合条件，用户层自己调用自己，或者框架层依赖所有用户。这些代码结构都是很危险了，因为它们需要极强的依赖，这不是最糟糕的，最糟糕的是如果算法改变(例如改成敌人死后增加一段3秒动画，之后才触发这些东西)，那么要修改所有这些客户代码。&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;sketch=1;fontSize=13;strokeColor=default;glass=0;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="2070" y="900" width="780" height="570" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="8MD7XbE8406Qzjv73TxS" name="服务定位器">
    <mxGraphModel dx="1698" dy="1083" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="LW-yN8NTiHITfRDnuSQl-1" value="" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;fontSize=30;strokeColor=#6c8ebf;fillColor=#dae8fc;fillStyle=solid;" parent="1" vertex="1">
          <mxGeometry x="255" y="-161" width="479" height="671" as="geometry" />
        </mxCell>
        <mxCell id="XpDhA64zmhiHeONRHzAt-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;" parent="1" source="XpDhA64zmhiHeONRHzAt-1" target="XpDhA64zmhiHeONRHzAt-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XpDhA64zmhiHeONRHzAt-1" value="Player类" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="42" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=15;" parent="1" source="XpDhA64zmhiHeONRHzAt-2" target="XpDhA64zmhiHeONRHzAt-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;" parent="1" source="XpDhA64zmhiHeONRHzAt-2" target="XpDhA64zmhiHeONRHzAt-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;" parent="1" source="XpDhA64zmhiHeONRHzAt-2" target="T3V12MyvO71K1RBNgjyN-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XpDhA64zmhiHeONRHzAt-2" value="服务定位器" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XpDhA64zmhiHeONRHzAt-5" value="&lt;div&gt;音频服务&lt;/div&gt;&lt;div&gt;&amp;lt;interface&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="560" y="-40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XpDhA64zmhiHeONRHzAt-7" value="&lt;div&gt;支付服务&lt;/div&gt;&lt;div&gt;&amp;lt;interface&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="560" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-1" value="&lt;div&gt;序列化服务&lt;/div&gt;&lt;div&gt;&amp;lt;interface&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="560" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-7" value="使用" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="190" y="190" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-8" value="定位" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="490" y="-40" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-9" value="定位" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="490" y="190" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-10" value="定位" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="490" y="420" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=13;dashed=1;" parent="1" source="T3V12MyvO71K1RBNgjyN-11" target="XpDhA64zmhiHeONRHzAt-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-11" value="&lt;div&gt;正常的音频实现&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;Class&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="-120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontSize=13;" parent="1" source="T3V12MyvO71K1RBNgjyN-12" target="XpDhA64zmhiHeONRHzAt-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-12" value="&lt;div&gt;&lt;font style=&quot;font-size: 13px&quot;&gt;附加Log的音频&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;Class&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="-40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;fontSize=13;dashed=1;" parent="1" source="T3V12MyvO71K1RBNgjyN-13" target="XpDhA64zmhiHeONRHzAt-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-13" value="&lt;div&gt;完全静音&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;Class&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=13;dashed=1;" parent="1" source="T3V12MyvO71K1RBNgjyN-20" target="XpDhA64zmhiHeONRHzAt-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-20" value="&lt;div&gt;Appstore&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;Class&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="T3V12MyvO71K1RBNgjyN-21" target="XpDhA64zmhiHeONRHzAt-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-21" value="&lt;div&gt;GooglePlay&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;Class&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="T3V12MyvO71K1RBNgjyN-25" target="T3V12MyvO71K1RBNgjyN-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-25" value="&lt;div&gt;Json&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;Class&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;fontSize=13;dashed=1;" parent="1" source="T3V12MyvO71K1RBNgjyN-26" target="T3V12MyvO71K1RBNgjyN-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="T3V12MyvO71K1RBNgjyN-26" value="&lt;div&gt;二进制&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;Class&amp;gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=15;rounded=1;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XbR9ArRhICYNA1_2Q746-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;fontSize=30;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="760" y="-140" as="sourcePoint" />
            <mxPoint x="760" y="-140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EVyYjJJNpjqcoVqUUyiX-1" value="&lt;div style=&quot;font-size: 17px&quot;&gt;&lt;font style=&quot;font-size: 17px ; line-height: 1&quot;&gt;单例是客户直接创建实现，而这里，用服务定位器取得创建实现的控制权，将控制权从客户反转到这里。这时框架层将拥有替换具体实现的能力。使动态的控制流成为可能。&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;sketch=1;fillStyle=solid;fontSize=30;" parent="1" vertex="1">
          <mxGeometry x="256" y="-161" width="478" height="107" as="geometry" />
        </mxCell>
        <mxCell id="PBYzNvLG6ebrGYuyzUBN-1" value="&lt;font style=&quot;font-size: 17px&quot;&gt;←运行时设置&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="790" y="195" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PBYzNvLG6ebrGYuyzUBN-2" value="&lt;font style=&quot;font-size: 17px&quot;&gt;←依赖注入&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="810" y="-50" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PBYzNvLG6ebrGYuyzUBN-3" value="&lt;font style=&quot;font-size: 17px&quot;&gt;←编译时绑定&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="790" y="425" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6_bbJBlq6ccgd4fj25Xn-1" value="&lt;div style=&quot;font-size: 15px&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;全局状态的危害：&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;1.破坏封装，导致函数不纯：例如一个函数，如果出现了问题，只需搞清楚传来的值和函数本身即可。但是如果函数中有一个全局状态，则需要搞清楚外部。一个函数，它没有了稳定的输出，不能自己控制自己，即可以说它的封装被破坏了。&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;2.强耦合：随处都可以直接使用，造成不合时宜的耦合。其次单例是实现上的耦合，因为它不能使用接口。&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="-106" y="-161" width="338" height="251" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="eFodGvuo5DEhe-AQUhTL" name="IOC的好处">
    <mxGraphModel dx="1093" dy="575" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="sLN11sO9VajTNZFmHG6B-2" value="&lt;h1&gt;IOC的好处：&lt;/h1&gt;&lt;div style=&quot;font-size: 15px&quot;&gt;&lt;ul&gt;&lt;li&gt;最初的动机：在协调和排序应用程序活动时，框架通常扮演主程序的角色。这种控制的反转使框架能够充当可扩展的骨架。&lt;/li&gt;&lt;li&gt;-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------&lt;br&gt;&lt;/li&gt;&lt;li&gt;将任务的执行与实现解耦。&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF3333&quot;&gt;（事件系统）&lt;/font&gt;&lt;/li&gt;&lt;li&gt;将模块集中在其设计的任务上。&lt;font color=&quot;#FF3333&quot;&gt;（分数/经验/成就这些系统应该专注于自己的任务，而不是如何找到其它）&lt;/font&gt;&lt;/li&gt;&lt;li&gt;将模块从对其他系统如何做的假设中解放出来，而不是依赖于契约。&lt;font color=&quot;#FF3333&quot;&gt;（想想，分数/经验/成就这些系统每帧都在关注玩家何时消灭敌人这种设计窘境）&lt;/font&gt;&lt;/li&gt;&lt;li&gt;防止更换模块时产生副作用。&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF3333&quot;&gt;（服务定位器）&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;" style="text;html=1;strokeColor=default;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=0;glass=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="170" y="300" width="1060" height="310" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="jGGJE73AfCp-8Iz2Cj2z" name="MVC分层设计">
    <mxGraphModel dx="1883" dy="1180" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="sF5rzg4sLR0sNwIVGvDy-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF0000;" parent="1" source="v8rsanjX5inM_pXWFOY6-1" target="v8rsanjX5inM_pXWFOY6-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-1" value="View" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="950" y="-50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-10" value="View" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FFFF;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="1030" y="-90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=20;" parent="1" source="v8rsanjX5inM_pXWFOY6-1" target="v8rsanjX5inM_pXWFOY6-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;fontSize=20;" parent="1" source="v8rsanjX5inM_pXWFOY6-1" target="v8rsanjX5inM_pXWFOY6-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="v8rsanjX5inM_pXWFOY6-2" target="v8rsanjX5inM_pXWFOY6-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-2" value="&lt;div&gt;Controller&lt;/div&gt;&lt;div&gt;+&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="830" y="70" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="v8rsanjX5inM_pXWFOY6-3" target="v8rsanjX5inM_pXWFOY6-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-3" value="&lt;div&gt;Controller&lt;/div&gt;&lt;div&gt;-&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1070" y="70" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-4" value="Model" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="950" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-11" value="&lt;font style=&quot;font-size: 20px&quot;&gt;将Controller与Model从视图层分离出去，做到视图层可以轻松替换&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="770" y="-60" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="v8rsanjX5inM_pXWFOY6-9" value="View" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FFFF;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="1110" y="-130" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ub0QkZWGCktMfMygCQvP-1" value="&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;游戏不适用MVC的一大关键原因是：GUI是事件驱动型程序，游戏是交互式程序。&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;事件驱动型程序表现是固定的，只有逻辑事件驱动它时，表现才会动。&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;交互式程序表现无时无刻都在动，逻辑也要依赖表现的状态完成一些事情。&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;游戏并非所有情况下都像GUI那样表现依赖于逻辑。&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;例如：人物攀爬，逻辑要依赖使用动画手的位置检测能不能抓住攀爬点。&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;View(动画)有时会影响Model(物理)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;并不是说游戏不需要分层，而是要根据具体的问题构建在MVC之上更适合当前情境的关注点分离，因为不同的游戏之间的差异要比不同的GUI之间的差异要大得多，所以不能硬套MVC结构，这是不务实的。&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;-------------------------------------------------------------------------------------------------&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 15px&quot; color=&quot;#FF0000&quot;&gt;&lt;font style=&quot;font-size: 15px&quot;&gt;区分逻辑与表现：列出所有数据，和游戏规则息息相关的就是逻辑，和游戏规则无关的就是表现。&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;sketch=1;horizontal=1;" parent="1" vertex="1">
          <mxGeometry x="-50" y="390" width="730" height="230" as="geometry" />
        </mxCell>
        <mxCell id="e9J32rslbSS0WvyAcjZm-1" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://unity.com/sites/default/files/styles/810_scale_width/public/2020-02/software-architecture.jpg?itok=ckkCKPf5;" parent="1" vertex="1">
          <mxGeometry x="740" y="258.5" width="520" height="293" as="geometry" />
        </mxCell>
        <mxCell id="e9J32rslbSS0WvyAcjZm-2" value="&lt;font style=&quot;font-size: 17px&quot;&gt;这样的分层，就可以替换Input和Simulation的抽象，轻松的改变程序的控制流，而不影响其它。&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="740" y="551.5" width="520" height="68.5" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="VyXEFCP3bw_nz4Y6F34w-1" target="VyXEFCP3bw_nz4Y6F34w-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="VyXEFCP3bw_nz4Y6F34w-1" target="VyXEFCP3bw_nz4Y6F34w-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-1" value="Controller" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="395" y="280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VyXEFCP3bw_nz4Y6F34w-3" target="VyXEFCP3bw_nz4Y6F34w-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-3" value="View" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="135" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-4" value="Model" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-85" y="280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="VyXEFCP3bw_nz4Y6F34w-5" target="VyXEFCP3bw_nz4Y6F34w-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-5" value="&lt;font color=&quot;#000000&quot;&gt;用户&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;sketch=0;fontSize=18;fontColor=#FF0000;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="155" y="-130" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-8" value="&lt;font style=&quot;font-size: 15px&quot;&gt;1.点击UI&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="195" y="-35" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-11" value="&lt;font style=&quot;font-size: 15px&quot;&gt;2.UI调用Controller&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="265" y="200" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-13" value="&lt;font style=&quot;font-size: 15px&quot;&gt;3.Controller改变Model的状态&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="115" y="268.5" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-15" value="&lt;font style=&quot;font-size: 15px&quot;&gt;4.Controller也会直接改变View&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="265" y="90" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-18" value="&lt;font color=&quot;#FF0000&quot;&gt;替换不同的Controller就是替换不同的策略&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontSize=15;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="395" y="320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-19" value="&lt;font color=&quot;#FF0000&quot;&gt;View是一个观察者，可以被轻易替换&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontSize=15;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="65" y="5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-23" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#FF0000;strokeColor=#FF0000;" parent="1" source="VyXEFCP3bw_nz4Y6F34w-17" target="VyXEFCP3bw_nz4Y6F34w-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-17" value="&lt;font style=&quot;font-size: 15px&quot;&gt;5.反应式更新View&lt;/font&gt;&lt;font style=&quot;font-size: 15px&quot;&gt; / View查询Model状态&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-130" y="195" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-21" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;curved=1;strokeColor=#FF0000;endArrow=none;" parent="1" source="VyXEFCP3bw_nz4Y6F34w-3" target="VyXEFCP3bw_nz4Y6F34w-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="135" y="90" as="sourcePoint" />
            <mxPoint x="-25" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-24" value="&lt;font color=&quot;#FF0000&quot;&gt;&lt;b&gt;传统GUI：表现依赖于逻辑&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontSize=15;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-15" y="140" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VyXEFCP3bw_nz4Y6F34w-25" value="&lt;b&gt;&lt;font color=&quot;#FF0000&quot;&gt;MVC最本质的动机：如果用户需要在不同的上下文中看到相同的Model元素，这个结构是有用的。&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" parent="1" vertex="1">
          <mxGeometry x="235" y="-140" width="380" height="100" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="6uLK04TobMAoKT2L0kqD" name="技能系统">
    <mxGraphModel dx="1438" dy="546" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="nvX3F_6xwBLlbkUAn0Qx-1" target="nvX3F_6xwBLlbkUAn0Qx-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-1" value="Character.cs" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="nvX3F_6xwBLlbkUAn0Qx-2" target="nvX3F_6xwBLlbkUAn0Qx-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="nvX3F_6xwBLlbkUAn0Qx-2" target="nvX3F_6xwBLlbkUAn0Qx-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.558;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="nvX3F_6xwBLlbkUAn0Qx-2" target="nvX3F_6xwBLlbkUAn0Qx-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="nvX3F_6xwBLlbkUAn0Qx-2" target="nvX3F_6xwBLlbkUAn0Qx-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-2" value="Update遍历所有技能组件" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-6" value="跳跃技能" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-40" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-7" value="冲刺技能" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-8" value="冲刺技能" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nvX3F_6xwBLlbkUAn0Qx-9" value="......技能" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="440" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SWiGQI8c52VVEfCVwMhV-1" value="&lt;div&gt;HandleInput&lt;/div&gt;&lt;div&gt;虚方法&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-40" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="SWiGQI8c52VVEfCVwMhV-3" value="InputManager.cs" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-250" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="JjrHdyW9YcUw1EU4LXZn-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="SWiGQI8c52VVEfCVwMhV-6" target="SWiGQI8c52VVEfCVwMhV-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JjrHdyW9YcUw1EU4LXZn-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="SWiGQI8c52VVEfCVwMhV-6" target="SWiGQI8c52VVEfCVwMhV-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SWiGQI8c52VVEfCVwMhV-6" value="最终的跳跃技能实现" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-40" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="JjrHdyW9YcUw1EU4LXZn-2" value="查询输入" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-110" y="630" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="JjrHdyW9YcUw1EU4LXZn-4" value="实现虚方法" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="580" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="JjrHdyW9YcUw1EU4LXZn-5" value="&lt;div&gt;HandleInput&lt;/div&gt;&lt;div&gt;虚方法&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="JjrHdyW9YcUw1EU4LXZn-6" value="&lt;div&gt;HandleInput&lt;/div&gt;&lt;div&gt;虚方法&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="JjrHdyW9YcUw1EU4LXZn-7" value="&lt;div&gt;HandleInput&lt;/div&gt;&lt;div&gt;虚方法&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="490" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="iIGgSONa2DcAR9Ys91gX" name="武器系统">
    <mxGraphModel dx="1784" dy="1528" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="W-Q-xo8lk6QFdtLJnoDA-6" target="W-Q-xo8lk6QFdtLJnoDA-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="W-Q-xo8lk6QFdtLJnoDA-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-10" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="W-Q-xo8lk6QFdtLJnoDA-6" target="W-Q-xo8lk6QFdtLJnoDA-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-6" value="&lt;div&gt;CharacterHandleWeapon.cs&lt;/div&gt;&lt;div&gt;角色身上，负责装备和使用武器&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="60" width="189" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-7" value="&lt;div&gt;父类&lt;br&gt;&lt;/div&gt;&lt;div&gt;Weapon.cs&lt;/div&gt;&lt;div&gt;当前武器&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-13" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;curved=1;dashed=1;" parent="1" source="W-Q-xo8lk6QFdtLJnoDA-9" target="W-Q-xo8lk6QFdtLJnoDA-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-9" value="&lt;div&gt;ChangeWeapon方法更换武器&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="270" y="200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-14" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" target="W-Q-xo8lk6QFdtLJnoDA-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="50" y="230" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-10" value="&lt;div&gt;HandleInput方法&lt;/div&gt;&lt;div&gt;每帧检测输入&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-70" y="200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-15" value="根据此字段更新手中的武器" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="410" y="140" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-16" value="触发武器Class的射击方法" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="80" y="190" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-20" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;rounded=0;" parent="1" target="W-Q-xo8lk6QFdtLJnoDA-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="577" y="-50" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-17" value="子弹武器" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="577" y="-80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-22" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;rounded=0;" parent="1" source="W-Q-xo8lk6QFdtLJnoDA-18" target="W-Q-xo8lk6QFdtLJnoDA-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-18" value="近战武器" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="577" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-23" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;rounded=0;" parent="1" source="W-Q-xo8lk6QFdtLJnoDA-19" target="W-Q-xo8lk6QFdtLJnoDA-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W-Q-xo8lk6QFdtLJnoDA-19" value="扫描武器" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="577" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;" parent="1" source="BObfnGKUkezH7X8jsfoz-1" target="BObfnGKUkezH7X8jsfoz-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-1" value="&lt;div&gt;ItemPicker.cs&lt;br&gt;&lt;/div&gt;&lt;div&gt;地上的可拾取物品&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="344.5" y="-440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" parent="1" source="BObfnGKUkezH7X8jsfoz-2" target="BObfnGKUkezH7X8jsfoz-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-2" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fontColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="180" y="-440" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ws8QdNf1vuAyM_X4VMy4-2" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.945;entryY=0.45;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;strokeColor=#FF0000;" parent="1" source="BObfnGKUkezH7X8jsfoz-4" target="WmtERiF_nkRVxFZolmba-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-4" value="&lt;div&gt;Inventory.cs&lt;/div&gt;&lt;div&gt;背包主数据，挂在场景中&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="324.5" y="-300" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-6" value="将SO数据Add进去" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="404.5" y="-360" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-7" value="触碰" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="250" y="-440" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-9" value="&lt;div&gt;CharacterInventory.cs&lt;/div&gt;&lt;div&gt;技能部分，在主角身上&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-220" y="-320" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BObfnGKUkezH7X8jsfoz-10" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontColor=#000000;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#99FF33;entryX=0.045;entryY=0.45;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="BObfnGKUkezH7X8jsfoz-9" target="WmtERiF_nkRVxFZolmba-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="-150" as="sourcePoint" />
            <mxPoint x="180" y="-140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WmtERiF_nkRVxFZolmba-1" value="发送事件：装备武器" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.oval_callout;rounded=0;shadow=0;glass=0;sketch=1;fontSize=13;fontColor=#000000;strokeColor=#000000;fillColor=#80FF00;fillStyle=solid;" parent="1" vertex="1">
          <mxGeometry x="30" y="-300" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="F183PRlIUOWZ5X8jpl1P-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBorderColor=default;fontColor=#000000;strokeColor=#000000;fillColor=#99FF33;" parent="1" source="F183PRlIUOWZ5X8jpl1P-1" target="W-Q-xo8lk6QFdtLJnoDA-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="405" y="-10" />
              <mxPoint x="405" y="-10" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="F183PRlIUOWZ5X8jpl1P-1" value="&lt;div&gt;Item.so&lt;/div&gt;&lt;div&gt;枪&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="324.5" y="-240" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="F183PRlIUOWZ5X8jpl1P-5" value="&lt;div align=&quot;left&quot;&gt;枪调用自身的“装备武器方法”&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;依赖的获取方式是：背包中存储持有者也就是玩家&lt;br&gt;&lt;/div&gt;&lt;div&gt;传的值就是：武器预制件&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="404.5" y="-180" width="275.5" height="100" as="geometry" />
        </mxCell>
        <mxCell id="F183PRlIUOWZ5X8jpl1P-6" value="&lt;h1&gt;OOP的经典利用&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;font style=&quot;font-size: 21px&quot;&gt;利用对象，按照现实逻辑对游戏进行数据建模，对象拥有数据并向其它人提供功能。层层递进，这是非常关键的！！！&lt;/font&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=#FF9999;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontColor=#000000;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="610" y="-400" width="300" height="170" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="BLDyyzPnFt5mrQUmkB76" name="背包与拾取">
    <mxGraphModel dx="919" dy="273" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="MDtZXn_G9KabZqxlIENa-1" value="&lt;div&gt;Inventory.cs&lt;/div&gt;&lt;div&gt;背包的主数据，挂载在场景中&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="150" y="180" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-5" value="&lt;font color=&quot;#FF3333&quot;&gt;这里的一大问题是所有引用都用的Find&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="150" y="240" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;" parent="1" source="MDtZXn_G9KabZqxlIENa-7" target="MDtZXn_G9KabZqxlIENa-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-7" value="&lt;font color=&quot;#000000&quot;&gt;玩家&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="-110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;" parent="1" source="MDtZXn_G9KabZqxlIENa-9" target="MDtZXn_G9KabZqxlIENa-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-9" value="&lt;div&gt;可拾取物品&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;包含：SO数据&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-110" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-13" value="触碰" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-50" y="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-14" value="将SO数据Add进去" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="50" y="180" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;" parent="1" source="MDtZXn_G9KabZqxlIENa-15" target="MDtZXn_G9KabZqxlIENa-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-15" value="UI" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MDtZXn_G9KabZqxlIENa-17" value="引用" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="230" y="110" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="-LvT2iNH8mZshUdfgRSt" name="存档系统">
    <mxGraphModel dx="1389" dy="920" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-17" value="" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fillColor=#33FFFF;" parent="1" vertex="1">
          <mxGeometry x="-90" y="-10" width="600" height="410" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;" parent="1" source="nVIuFhXh5-S7ZQBF9YYk-1" target="nVIuFhXh5-S7ZQBF9YYk-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-1" value="MMSaveLoadManager.cs" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="110" y="20" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-3" value="«interface»&lt;br&gt;&lt;b&gt;IMMSaveLoadManagerMethod&lt;/b&gt;" style="html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="95" y="120" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontColor=#000000;" parent="1" source="nVIuFhXh5-S7ZQBF9YYk-5" target="nVIuFhXh5-S7ZQBF9YYk-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-5" value="Json" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-40" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;" parent="1" source="nVIuFhXh5-S7ZQBF9YYk-6" target="nVIuFhXh5-S7ZQBF9YYk-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-6" value="XX系统想要存储时调用" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="110" y="-110" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#000000;" parent="1" source="nVIuFhXh5-S7ZQBF9YYk-8" target="nVIuFhXh5-S7ZQBF9YYk-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-8" value="二进制" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="135" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#000000;" parent="1" source="nVIuFhXh5-S7ZQBF9YYk-9" target="nVIuFhXh5-S7ZQBF9YYk-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-9" value="加密" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="310" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nVIuFhXh5-S7ZQBF9YYk-15" value="&lt;h1&gt;DI友好的体现&lt;br&gt;&lt;/h1&gt;&lt;p&gt;Manager依赖一个“存储方法接口”，需要不同的存储方式时可以方便的替换实现。依赖抽象而不是依赖实现。&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="295" y="110" width="190" height="110" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="_tQLsHUFLXu1XA1BEf4h" name="总结">
    <mxGraphModel dx="1838" dy="946" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ihXZ5u6pZj25GSVALFos-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="BS0kUIazF1uP17ymCNLV-1" target="BS0kUIazF1uP17ymCNLV-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="m925f_EAhWTfkjzYrJHL-9" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#e51400;strokeColor=#B20000;" parent="1" source="BS0kUIazF1uP17ymCNLV-1" target="BS0kUIazF1uP17ymCNLV-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-120" y="130" />
              <mxPoint x="-120" y="410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BS0kUIazF1uP17ymCNLV-1" value="UI模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-70" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BS0kUIazF1uP17ymCNLV-2" value="Player模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-70" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="19HGtY-FT00zjpxcR5o0-2" value="&lt;div style=&quot;font-size: 25px;&quot; align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 25px;&quot;&gt;我们在讨论架构时到底在讨论什么？&lt;/font&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;软件工程首要使命：管理复杂度&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;好处：&lt;br&gt;&lt;/div&gt;&lt;div&gt;所有软件设计的目标都是把复杂的问题分解为简单的部分，子系统间相互依赖越少，你就越容易专注于一小部分。精心设计的对象关系使关注点相互分离，从而使你在某一时刻只需关注一件事。&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;设计的层次（模块化编程）：&lt;/div&gt;&lt;div&gt;软件设计需要层次，软件→子系统→子系统中的多个类→类中的数据与行为→方法&lt;br&gt;&lt;/div&gt;&lt;div&gt;，子系统之间的通信规则是重要的一环，子系统之间的通信应该加以限制，尽可能的缩减连接，形态应呈现为有向无环图，这时如果想更换一个系统，会更加简单。&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;如何设计软件的一些启发式方法：&lt;/div&gt;&lt;div&gt;1.找出现实世界中的对象，一一映射到OOP的对象，并考虑它们之间的交互。&lt;/div&gt;&lt;div&gt;2.形成一致的抽象&lt;/div&gt;&lt;div&gt;3.封装实现的细节&lt;/div&gt;&lt;div&gt;4.如果继承能让你更方便则就使用继承&lt;/div&gt;&lt;div&gt;5.信息隐藏，例如新对象要初始化一个ID，不能id=globalID++。如果这样的话，那么要改写id的规则就需要改所有，应该将globalID++的行为封装成方法，隐藏起来。&lt;/div&gt;&lt;div&gt;6.找出容易改变的区域&lt;/div&gt;&lt;div&gt;7.保持松散耦合&lt;/div&gt;&lt;div&gt;8.设计模式&lt;/div&gt;&lt;div&gt;----------------------------------------------------------------------------------&lt;/div&gt;&lt;div&gt;创建类的理由：&lt;/div&gt;&lt;div&gt;1.为现实中的对象进行建模&lt;/div&gt;&lt;div&gt;2.为抽象的对象建模，例如“形状”&lt;/div&gt;&lt;div&gt;3.降低复杂度，直接使用而无需考虑怎么实现&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="-600" y="-40" width="440" height="520" as="geometry" />
        </mxCell>
        <mxCell id="m925f_EAhWTfkjzYrJHL-5" value="监听受伤事件" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-120" y="260" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="m925f_EAhWTfkjzYrJHL-7" value="装备武器直接调用" style="text;html=1;strokeColor=#314354;fillColor=#647687;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-10" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="m925f_EAhWTfkjzYrJHL-10" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="m925f_EAhWTfkjzYrJHL-8" target="BS0kUIazF1uP17ymCNLV-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="m925f_EAhWTfkjzYrJHL-14" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#e51400;strokeColor=#B20000;" parent="1" source="m925f_EAhWTfkjzYrJHL-8" target="BS0kUIazF1uP17ymCNLV-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="480" />
              <mxPoint x="-10" y="480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="m925f_EAhWTfkjzYrJHL-8" value="敌人模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="210" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="m925f_EAhWTfkjzYrJHL-11" value="死亡加经验" style="text;html=1;strokeColor=#314354;fillColor=#647687;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="100" y="380" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="m925f_EAhWTfkjzYrJHL-13" value="监听大招事件" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="100" y="450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PCwYS8UEmn7-CA50HDDl-1" value="&lt;div&gt;如何做到模块化：&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.有向无环图，避免环形依赖。这样就可以容易的&lt;font color=&quot;#FF0000&quot;&gt;删掉&lt;/font&gt;其它模块。&lt;/div&gt;&lt;div&gt;2.定义接口。这样就可以容易的&lt;font color=&quot;#FF0000&quot;&gt;替换&lt;/font&gt;其它模块。&lt;/div&gt;&lt;div&gt;3.基于组件的设计。&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="-160" y="-40" width="480" height="120" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="a3yFFA1AC4QvtvPU7vr9" name="架构整洁之道">
    <mxGraphModel dx="1438" dy="546" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2pT5Ae6r55IgCabX8qVZ-1" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-40" y="80" width="1000" height="440" as="geometry" />
        </mxCell>
        <mxCell id="vSib-kQASKO0IKpCG3nc-1" value="&lt;h1&gt;软件架构的终极目标&lt;br&gt;&lt;/h1&gt;&lt;p&gt;用最小的人力成本来满足构建和维护该系统的需求。&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-40" y="80" width="1000" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2pT5Ae6r55IgCabX8qVZ-2" value="&lt;h1&gt;SOLID原则&lt;/h1&gt;&lt;div&gt;1.单一职责：&lt;/div&gt;&lt;div&gt;违反：3种函数放入一个类中，修改一个函数会影响另外两个，版本控制时也会冲突。&lt;/div&gt;&lt;div&gt;遵循：3种函数分为3个类，并用&lt;font color=&quot;#FF0000&quot;&gt;Facade模式&lt;/font&gt;管理。&lt;/div&gt;&lt;div&gt;2.开放封闭&lt;/div&gt;&lt;div&gt;一层层的单向依赖，低层模块修改不会影响到高层模块，这种组织方式是将一系列模块划分为组件。&lt;font color=&quot;#FF0000&quot;&gt;人物控制 / 存储 / IOC控制&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;3.里氏替换&lt;/div&gt;&lt;div&gt;依赖于一种接口，实现该接口的类之间具有可替换性。一旦违反可替换性，就会增加很多应对措施。&lt;/div&gt;&lt;div&gt;4.接口隔离&lt;/div&gt;&lt;div&gt;不要依赖不需要的东西，会带来一些耦合麻烦。&lt;/div&gt;&lt;div&gt;5.依赖倒置&lt;/div&gt;&lt;div&gt;应该关注经常变动的具体实现模块。&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-40" y="150" width="1000" height="210" as="geometry" />
        </mxCell>
        <mxCell id="2pT5Ae6r55IgCabX8qVZ-3" value="&lt;h1&gt;什么是软件架构&lt;br&gt;&lt;/h1&gt;&lt;p&gt;实质：规划如何将系统切分成组件，安排组件之间的排列关系，以及组件之间的通信。&lt;/p&gt;&lt;p&gt;在设计中，尽可能长时间的保留尽可能多的可选项。比如可多选的存储方式。避免与某一个方案完全的耦合。&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-40" y="360" width="1000" height="160" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
